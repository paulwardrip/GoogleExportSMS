var AutoLightBox=function(t){function e(){void 0===window.LightboxAutoControl?window.LightboxAutoControl=1:window.LightboxAutoControl++,s=window.LightboxAutoControl}function o(){h.style.height="1px",h.style.width="1px",d&&(h.style.height=window.innerHeight+"px",h.style.width=window.innerWidth+"px")}function i(t){if(t){t instanceof jQuery&&(t=t.get(0)),e(),n&&(n.classList.remove("lightbox-auto-control-"+(s-1)),h.classList.remove("lightbox-"+(s-1))),(n=t).classList?n.classList.add("lightbox-auto-control-"+s):n.class="lightbox-auto-control-"+s,h.classList?h.classList.add("lightbox-"+s):h.class="lightbox-"+s;var o=window.getComputedStyle(t).zIndex;o||(o=50,t.style.zIndex=o),h.style.zIndex=parseInt(o)-1}}var n,s,h=document.createElement("div"),c=!1,d=!1,r=function(){$?$(h).fadeTo(200,.5):h.style.opacity=.5,n.style.zIndex?h.style.zIndex=n.style.zIndex-1:(n.style.zIndex=100,h.style.zIndex=99),d=!0},l=function(){$?$(h).fadeTo(200,0):h.style.opacity=0,d=!1},a=function(){c||(document.body.appendChild(h),c=!0)};h.style.position="fixed",h.style.backgroundColor="black",h.style.opacity=0,h.style.left=0,h.style.top=0,i(t),o(),a(),window.setInterval(function(){if(u){var t=document.querySelector(".lightbox-auto-control-"+s);if(t){var e=window.getComputedStyle(t);console.debug(e.display,e.visibility,e.opacity),"none"===e.display||"hidden"===e.visibility||0===e.opacity?d&&l():d||r()}}c&&o()},100);var u=!0;return{show:r,hide:l,attach:a,detach:function(){document.body.removeChild(h),c=!1},parent:i,color:function(t){h.style.backgroundColor=t},automatic:u}},Centerize=function(){function t(t,e){e||(e=$(window)),console.log("centerize:",e.height(),t.height(),(e.height()-t.height())/2),t.css({top:(e.outerHeight()-t.outerHeight())/2+"px",left:(e.outerWidth()-t.outerWidth())/2+"px"})}function e(t){return function(e,o,i){o||(o=1),o>1&&(o/=100),i?"string"==typeof i&&(i=$(i)):i=$(window);var n,s,h=Math.floor(i.height()*o);t?(n=e.width()/e.height(),s=Math.floor(h*n)):s=e.width(),console.log("resized from",e.width(),"x",e.height(),"to",s,"x",h,"aspect:",n),"canvas"==e[0].tagName.toLowerCase()?(e[0].height=h,e[0].width=s):e.css({height:h+"px",width:s+"px"})}}function o(t){return function(e,o,i){o||(o=1),o>1&&(o/=100),i?"string"==typeof i&&(i=$(i)):i=$(window);var n,s,h=Math.floor(i.width()*o);t?(n=e.height()/e.width(),s=Math.floor(h*n)):s=e.height(),console.log("resized from",e.width(),"x",e.height(),"to",h,"x",s,"aspect:",n),"canvas"==e[0].tagName.toLowerCase()?(e[0].height=s,e[0].width=h):e.css({height:s+"px",width:h+"px"})}}$.fn.centerize=function(e){t(this,e)};var i=e(!0),n=e(!1);$.fn.heightPercentAspect=function(t,e){i(this,t,e)},$.fn.heightPercent=function(t,e){n(this,t,e)};var s=o(!0),h=o(!1);return $.fn.widthPercent=function(t,e){h(this,t,e)},$.fn.widthPercentAspect=function(t,e){s(this,t,e)},{centerize:t,heightPercent:n,heightPercentAspect:i,widthPercent:h,widthPercentAspect:s}}(),Dots;$(document).ready(function(){var t;$("head").append("<style type='text/css'>.dots {text-align: left;position: absolute;height: 240px;width: 400px;font-size: 200px;color: white;background-color: black;border-radius: 20px;display: none}.dots .inner {position: absolute;left: 150px;}</style>");var e=$("<div class='dots'><span class='inner'>...</span></div>"),o=e.find(".inner");$("body").append(e),new AutoLightBox(e),Dots={show:function(){e.show(),e.centerize(),t=setInterval(function(){var t=e.text();"..."==t?o.text("."):".."==t?o.text("..."):o.text("..")},500)},hide:function(){clearInterval(t),e.hide()}}});